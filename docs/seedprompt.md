## 1. ν”„λ΅μ νΈ μ†κ°

<aside>
π’΅

μ΄ ν”„λ΅μ νΈλ” νμ΄μ¬ κΈ°μ΄ κ³Όμ •μ—μ„ λ°°μ΄ λ‚΄μ©λ“¤μ„ μΆ…ν•©ν•μ—¬ μ•”νΈν™”ν λ°μ΄ν„°λ¥Ό APIλ¥Ό ν†µν•΄ μ§μ ‘ λ¶λ¬μ¤κ³  λ¶„μ„ν•λ” μ‹¤μµμ…λ‹λ‹¤.

</aside>

### ν•™μµ λ©ν‘

- μ™Έλ¶€ APIλ¥Ό ν†µν•΄ μ•”νΈν™”ν μ‹μ„Έ λ°μ΄ν„°λ¥Ό λ¶λ¬μ¬ μ μλ‹¤.
- λ¶λ¬μ¨ λ°μ΄ν„°λ¥Ό ν‘ ν•νƒλ΅ μ •λ¦¬ν•κ³  ν•„μ”ν• μ—΄λ§ μ¶”μ¶ν•  μ μλ‹¤.
- κ°€κ²© λ³€λ™ μ¶”μ΄λ¥Ό μ°¨νΈλ΅ μ‹κ°ν™”ν•  μ μλ‹¤.
- λ°μ΄ν„° μμ§‘ β†’ μ •λ¦¬ β†’ λ¶„μ„ β†’ μ‹κ°ν™”μ κ³Όμ •μ„ ν• νλ¦„μΌλ΅ κ²½ν—ν•  μ μλ‹¤.

### ν”„λ΅μ νΈ κµ¬λ¶„

ν”„λ΅μ νΈλ” **ν•„μ κ³Όμ **μ™€Β **λ„μ „ κ³Όμ **λ΅ λ‚λ‰λ©°, ν•„μ κ³Όμ λ” λ°λ“μ‹ μ μ¶ν•΄μ•Ό ν•κ³ , λ„μ „ κ³Όμ λ” μ„ νƒμ μΌλ΅ μν–‰ν•λ©΄ λ©λ‹λ‹¤.

| **ν•„μ κ³Όμ ** | λ¬Έμ 1. μ•”νΈν™”ν ν¬νΈν΄λ¦¬μ¤ λ¶„μ„κΈ° |
| --- | --- |
| **ν•„μ κ³Όμ ** | λ¬Έμ 2. κ°€κ²© μ•λ¦Ό μ‹μ¤ν… |
| **λ„μ „ κ³Όμ ** | λ¬Έμ 3. μ•”νΈν™”ν μμµλ¥  κ³„μ‚°κΈ° |

---

## 2. [ν•„μ κ³Όμ ] λ¬Έμ 1: μ•”νΈν™”ν ν¬νΈν΄λ¦¬μ¤ λ¶„μ„κΈ°

<aside>
β…

λ‹¤μ μ΅°κ±΄μ„ λ§μ΅±ν•λ” ν¬νΈν΄λ¦¬μ¤ λ¶„μ„ ν”„λ΅κ·Έλ¨μ„ μ‘μ„±ν•μ‹μ¤:

1. λ³΄μ  μ•”νΈν™”νμ™€ μλ‰μ„ λ”•μ…”λ„λ¦¬λ΅ μ •μ
2. κ° μ•”νΈν™”νμ ν„μ¬ κ°€μΉ κ³„μ‚°
3. μ „μ²΄ ν¬νΈν΄λ¦¬μ¤ κ°€μΉ κ³„μ‚°
4. κ° μ•”νΈν™”νμ ν¬νΈν΄λ¦¬μ¤ λ‚΄ λΉ„μ¤‘ κ³„μ‚°
</aside>

### κµ¬ν„ λ‹¨κ³„

1. **ν¬νΈν΄λ¦¬μ¤ μ •μ**
    - λ”•μ…”λ„λ¦¬λ΅ λ³΄μ ν• μ•”νΈν™”νμ™€ μλ‰μ„ μ €μ¥ν•λ‹¤.
    - μ:Β `"KRW-BTC": 0.1, "KRW-ETH": 2.5`
2. **ν„μ¬κ°€ μ΅°ν ν•¨μ μ‘μ„± (`get_current_prices_api`)**
    - `requests`Β λ¨λ“μ„ μ‚¬μ©ν•μ—¬ μ—…λΉ„νΈ APIμ—μ„ ν„μ¬κ°€λ¥Ό μ΅°νν•λ‹¤.
    - μ‘λ‹µμ„ JSONμΌλ΅ λ³€ν™ ν›„, μ½”μΈλ³„ ν„μ¬κ°€(`trade_price`)λ¥Ό λ”•μ…”λ„λ¦¬μ— λ‹΄μ•„ λ°ν™ν•λ‹¤.
3. **ν¬νΈν΄λ¦¬μ¤ λ¶„μ„ ν•¨μ μ‘μ„± (`analyze_portfolio`)**

   (1)Β **ν„μ¬κ°€ μ΅°ν**

    - λ³΄μ  μ½”μΈ λ©λ΅μ„ APIμ— μ „λ‹¬ν•μ—¬ ν„μ¬κ°€ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨λ‹¤.

   (2)Β **κ° μ•”νΈν™”νλ³„ λ¶„μ„**

    - ν„μ¬κ°€ Γ— λ³΄μ  μλ‰ β†’ κ°λ³„ κ°€μΉ κ³„μ‚°
    - `portfolio_analysis`Β λ¦¬μ¤νΈμ— μ½”μΈλ…, μλ‰, ν„μ¬κ°€, κ°€μΉ μ €μ¥
    - λ™μ‹μ—Β `total_value`(μ΄ν•©)λ¥Ό λ„μ 

   (3)Β **λΉ„μ¤‘ κ³„μ‚°**

    - κ°λ³„ κ°€μΉ Γ· μ΄ν•© Γ— 100 μΌλ΅ κ° μ•”νΈν™”νμ λΉ„μ¤‘μ„ μ¶”κ°€
    - `ν„μ¬κ°€ Γ— λ³΄μ  μλ‰`
    - μ: λΉ„νΈμ½”μΈ 0.1κ° Γ— 50,000,000μ› = 5,000,000μ›
4. **λ¶„μ„ κ²°κ³Ό μ¶λ ¥**
    - μ΄ ν¬νΈν΄λ¦¬μ¤ κ°€μΉλ¥Ό μ¶λ ¥ν•λ‹¤.
    - ν‘ ν•νƒλ΅ μ½”μΈ / μλ‰ / ν„μ¬κ°€ / κ°€μΉ / λΉ„μ¤‘μ„ μ¶λ ¥ν•λ‹¤.

### κµ¬ν„ ννΈ (νΌμ³λ³΄κΈ°)

- **ν¬νΈν΄λ¦¬μ¤ μ •μ**

  λ³΄μ  μ½”μΈμ„ λ”•μ…”λ„λ¦¬ ν•νƒλ΅ μ €μ¥ν•©λ‹λ‹¤.

    ```python
    portfolioΒ =Β {
    Β Β Β Β "KRW-BTC":Β 0.1,
    Β Β Β Β "KRW-ETH":Β 2.5
    }
    ```

- **ν„μ¬κ°€ μ΅°ν**

  μ—…λΉ„νΈ APIλ¥Ό νΈμ¶ν•΄μ„ λ°›μ€ JSON λ°μ΄ν„°μ—μ„Β `trade_price`Β κ°’μ„ κΊΌλ‚΄λ©΄ λ©λ‹λ‹¤.

    ```python
    forΒ dataΒ inΒ prices_data:
    Β Β Β Β prices[data['market']]Β =Β data['trade_price']
    ```

- **κ°€μΉ κ³„μ‚°**

  κ° μ½”μΈμ κ°€μΉλ”Β `ν„μ¬κ°€ Γ— μλ‰`μΌλ΅ κµ¬ν•κ³ , μ΄ν•©μ€ λ°λ³µλ¬Έμ—μ„ λ„μ ν•©λ‹λ‹¤.

    ```python
    valueΒ =Β priceΒ *Β quantity
    total_valueΒ +=Β value
    ```

- **λΉ„μ¤‘ κ³„μ‚°**

  μ΄ν•©μ΄ κµ¬ν•΄μ΅λ‹¤λ©΄, κ° ν•­λ©μ— λΉ„μ¤‘μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.

    ```python
    item["λΉ„μ¤‘"]Β =Β (item["κ°€μΉ"]Β /Β total_value)Β *Β 100
    ```

κµ¬ν„ ννΈ (νΌμ³λ³΄κΈ°)
ν¬νΈν΄λ¦¬μ¤ μ •μ
λ³΄μ  μ½”μΈμ„ λ”•μ…”λ„λ¦¬ ν•νƒλ΅ μ €μ¥ν•©λ‹λ‹¤.
portfolio = {
"KRW-BTC": 0.1,
"KRW-ETH": 2.5
}
β€‹
ν„μ¬κ°€ μ΅°ν
μ—…λΉ„νΈ APIλ¥Ό νΈμ¶ν•΄μ„ λ°›μ€ JSON λ°μ΄ν„°μ—μ„ trade_price κ°’μ„ κΊΌλ‚΄λ©΄ λ©λ‹λ‹¤.
for data in prices_data:
prices[data['market']] = data['trade_price']
β€‹
κ°€μΉ κ³„μ‚°
κ° μ½”μΈμ κ°€μΉλ” ν„μ¬κ°€ Γ— μλ‰μΌλ΅ κµ¬ν•κ³ , μ΄ν•©μ€ λ°λ³µλ¬Έμ—μ„ λ„μ ν•©λ‹λ‹¤.
value = price * quantity
total_value += value
β€‹
λΉ„μ¤‘ κ³„μ‚°
μ΄ν•©μ΄ κµ¬ν•΄μ΅λ‹¤λ©΄, κ° ν•­λ©μ— λΉ„μ¤‘μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.
item["λΉ„μ¤‘"] = (item["κ°€μΉ"] / total_value) * 100

## **3. [ν•„μ κ³Όμ ] λ¬Έμ 2: κ°€κ²© μ•λ¦Ό μ‹μ¤ν…**

<aside>
β…

νΉμ • μ•”νΈν™”νμ κ°€κ²©μ΄ λ©ν‘κ°€μ— λ„λ‹¬ν–μ„ λ• μ•λ¦Όμ„ μ£Όλ” μ‹μ¤ν…μ„ λ§λ“¤μ–΄λ³΄μ‹μ¤:

1. λ©ν‘κ°€ μ„¤μ • (μƒν•κ°€, ν•ν•κ°€)
2. ν„μ¬κ°€ λ¨λ‹ν„°λ§
3. λ©ν‘κ°€ λ„λ‹¬ μ‹ μ•λ¦Ό λ©”μ‹μ§€ μ¶λ ¥
</aside>

### κµ¬ν„ λ‹¨κ³„

1. **λ©ν‘κ°€ μ„¤μ •**
    - κ°μ‹ν•  μ½”μΈ ν‹°μ»¤μ™€ μƒν•κ°€Β·ν•ν•κ°€λ¥Ό λ―Έλ¦¬ μ…λ ¥ν•λ‹¤.
    - μ:Β `μƒν•κ°€ = ν„μ¬κ°€ Γ— 1.05`,Β `ν•ν•κ°€ = ν„μ¬κ°€ Γ— 0.95`
2. **ν„μ¬κ°€ μ΅°ν ν•¨μ μ‘μ„± (`get_single_price_api`)**
    - `requests`Β λ¨λ“μ„ μ‚¬μ©ν•μ—¬ μ—…λΉ„νΈ APIμ—μ„ λ‹¨μΌ μ½”μΈμ ν„μ¬κ°€λ¥Ό μ΅°νν•λ‹¤.
    - μ‘λ‹µμ„ JSONμΌλ΅ λ³€ν™ ν›„,Β `trade_price`Β κ°’μ„ λ°ν™ν•λ‹¤.
3. **κ°€κ²© μ•λ¦Ό ν•¨μ μ‘μ„± (`price_alert_system`)**

   (1)Β **κΈ°λ³Έ μ¶λ ¥**

    - μ½”μΈλ…κ³Ό μƒν•κ°€Β·ν•ν•κ°€ λ©ν‘κ°’μ„ μ•λ‚΄ λ©”μ‹μ§€λ΅ μ¶λ ¥ν•λ‹¤.

   (2)Β **ν„μ¬κ°€ μ΅°ν**

    - λ°λ³µλ¬Έμ„ μ΄μ©ν•΄ μΌμ • νμ λ™μ• ν„μ¬κ°€λ¥Ό κ°€μ Έμ¨λ‹¤.
    - μ΅°νν• μ‹κ°„(`HH:MM:SS`)κ³Ό ν„μ¬κ°€λ¥Ό ν•¨κ» μ¶λ ¥ν•λ‹¤.

   (3)Β **μ•λ¦Ό μ΅°κ±΄ ν™•μΈ**

    - ν„μ¬κ°€κ°€ μƒν•κ°€ μ΄μƒμ΄λ©΄ μƒν•κ°€ λ„λ‹¬ λ©”μ‹μ§€ μ¶λ ¥
    - ν„μ¬κ°€κ°€ ν•ν•κ°€ μ΄ν•μ΄λ©΄ ν•ν•κ°€ λ„λ‹¬ λ©”μ‹μ§€ μ¶λ ¥
    - λ‘ μ΅°κ±΄ λ¨λ‘ ν•΄λ‹Ήν•μ§€ μ•μΌλ©΄ μ •μƒ λ²”μ„ λ©”μ‹μ§€ μ¶λ ¥
4. **λ¨λ‹ν„°λ§ μΆ…λ£**
    - μ„¤μ •ν• νμλ§νΌ ν™•μΈμ΄ λλ‚λ©΄ λ¨λ‹ν„°λ§μ„ μΆ…λ£ν•λ‹¤.
- κµ¬ν„ ννΈ (νΌμ³λ³΄κΈ°)
  λ©ν‘κ°€ μ„¤μ •
  ν„μ¬κ°€λ¥Ό κΈ°μ¤€μΌλ΅ μƒν•κ°€μ™€ ν•ν•κ°€λ¥Ό κ³„μ‚°ν•©λ‹λ‹¤.
  high_target = current_price * 1.05
  low_target  = current_price * 0.95
  β€‹
  λ‹¨μΌ ν„μ¬κ°€ μ΅°ν
  μ‘λ‹µ JSONμ€ λ¦¬μ¤νΈμ΄λ©°, μ²« μ›μ† μ•μ— trade_priceκ°€ λ“¤μ–΄ μμµλ‹λ‹¤.
  data = response.json()[0]
  return data['trade_price']
  β€‹
  μ½”μΈλ… μ¶λ ¥
  ν‹°μ»¤ "KRW-BTC"μ—μ„ "BTC"λ§ μ¶”μ¶ν•΄ μ¶λ ¥ν•  μ μμµλ‹λ‹¤.
  coin_name = ticker.split("-")[1]
  β€‹
  μ•λ¦Ό μ΅°κ±΄
  ν„μ¬κ°€κ°€ μƒν•κ°€ μ΄μƒμ΄λ©΄ μƒν•κ°€ λ„λ‹¬ λ©”μ‹μ§€λ¥Ό,
  ν•ν•κ°€ μ΄ν•μ΄λ©΄ ν•ν•κ°€ λ„λ‹¬ λ©”μ‹μ§€λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
  if current_price >= target_high:
  # μƒν•κ°€ λ„λ‹¬ λ©”μ‹μ§€ μ¶λ ¥
elif current_price <= target_low:
# ν•ν•κ°€ λ„λ‹¬ λ©”μ‹μ§€ μ¶λ ¥

- **λ°λ³µ ν™•μΈ**
    - μ—¬λ¬ λ² κ°€κ²©μ„ ν™•μΈν•΄μ•Ό ν•λ―€λ΅Β **λ°λ³µλ¬Έ**μ„ μ‚¬μ©ν•©λ‹λ‹¤.
    - κ° λ‹¨κ³„μ—μ„ ν„μ¬ μ‹κ°„κ³Ό ν•¨κ» ν„μ¬κ°€λ¥Ό μ¶λ ¥ν•λ©΄ λ” μ§κ΄€μ μ…λ‹λ‹¤.

    ```python
    current_timeΒ =Β datetime.now().strftime("%H:%M:%S")
    print(f"[{current_time}]Β ν„μ¬κ°€:Β {current_price}")
    ```


---

## **4. [λ„μ „ κ³Όμ ] λ¬Έμ  3: μ•”νΈν™”ν μμµλ¥  κ³„μ‚°κΈ°**

<aside>
β…

κ³Όκ±° νΉμ • μ‹μ μ— ν¬μν–λ‹¤λ©΄ ν„μ¬ μμµλ¥ μ΄ μ–Όλ§μΈμ§€ κ³„μ‚°ν•λ” ν”„λ΅κ·Έλ¨μ„ μ‘μ„±ν•μ‹μ¤:

1. ν¬μ μ‹μ κ³Ό ν¬μ κΈμ•΅ μ„¤μ •
2. ν•΄λ‹Ή μ‹μ μ κ°€κ²©κ³Ό ν„μ¬ κ°€κ²© λΉ„κµ
3. μμµλ¥ κ³Ό μμµκΈ κ³„μ‚°
</aside>

### κµ¬ν„ λ‹¨κ³„

1. **ν¬μ μ΅°κ±΄ μ„¤μ •**
    - ν¬μν•  μ½”μΈ ν‹°μ»¤, ν¬μ μ‹μ (λ©°μΉ  μ „), ν¬μ κΈμ•΅μ„ μ…λ ¥ν•λ‹¤.
    - μ: λΉ„νΈμ½”μΈ, 30μΌ μ „, 100λ§μ›
2. **κ³Όκ±° λ°μ΄ν„° μ΅°ν ν•¨μ μ‘μ„± (`get_historical_data_api`)**
    - μ—…λΉ„νΈΒ `candles/days`Β APIλ¥Ό μ‚¬μ©ν•΄ μ§€μ •ν• κΈ°κ°„μ μΌλ΄‰ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨λ‹¤.
    - μ‘λ‹µ λ°μ΄ν„°μ—μ„ ν¬μ μ‹μ μ μΆ…κ°€(`trade_price`)λ¥Ό μ¶”μ¶ν•λ‹¤.
3. **ν„μ¬κ°€ μ΅°ν ν•¨μ μ‘μ„± (`get_single_price_api`)**
    - λ‹¨μΌ ν‹°μ»¤μ ν„μ¬ κ°€κ²©μ„ μ΅°νν•λ‹¤.
    - JSON μ‘λ‹µμ—μ„ trade_priceλ¥Ό λ°ν™ν•λ‹¤.
4. **ν¬μ μμµλ¥  κ³„μ‚° ν•¨μ μ‘μ„± (`calculate_investment_return`)**

   (1)Β **ν¬μ μ‹μ  κ°€κ²© ν™•μΈ**

    - ν¬μ μ‹μ  κ°€κ²©μΌλ΅ ν¬μ κΈμ•΅ Γ· κ°€κ²© = κµ¬λ§¤ μλ‰μ„ κ³„μ‚°ν•λ‹¤.
      (2)Β **ν„μ¬ κ°€μΉ κ³„μ‚°**

- κµ¬λ§¤ μλ‰ Γ— ν„μ¬κ°€ = ν„μ¬ κ°€μΉ

(3)Β **μ†μµ λ° μμµλ¥  κ³„μ‚°**

- μ†μµ = ν„μ¬ κ°€μΉ β€“ ν¬μ κΈμ•΅
- μμµλ¥  = (μ†μµ Γ· ν¬μ κΈμ•΅) Γ— 100
5. **κ²°κ³Ό μ¶λ ¥**
    - ν¬μ μΌμ, ν¬μ κΈμ•΅, ν¬μ μ‹μ  κ°€κ²©, κµ¬λ§¤ μλ‰, ν„μ¬ κ°€κ²©, ν„μ¬ κ°€μΉ, μ†μµ, μμµλ¥ μ„ μμ„λ€λ΅ μ¶λ ¥ν•λ‹¤.

### κµ¬ν„ ννΈ (νΌμ³λ³΄κΈ°)

- **κ³Όκ±° λ°μ΄ν„° λ¶λ¬μ¤κΈ°**
    - μ—…λΉ„νΈ μΌλ΄‰ API(`candles/days`)λ¥Ό μ‚¬μ©ν•λ©΄ κ³Όκ±° μΌμλ³„ κ°€κ²© λ°μ΄ν„°λ¥Ό μ΅°νν•  μ μμµλ‹λ‹¤.
    - μ‘λ‹µ λ¦¬μ¤νΈμ—μ„Β `'trade_price'`(μΆ…κ°€)λ¥Ό μ΄μ©ν•λ©΄ ν¬μ μ‹μ  κ°€κ²©μ„ μ• μ μμµλ‹λ‹¤.

    ```
    urlΒ =Β "https://api.upbit.com/v1/candles/days"
    paramsΒ =Β {"market":Β ticker,Β "count":Β days_count}
    responseΒ =Β requests.get(url,Β params=params)
    candle_dataΒ =Β response.json()
    ```

- **ν¬μ μ‹μ  κ°€κ²© κµ¬ν•κΈ°**
    - `days_ago`μΌ μ „μ κ°€κ²©μ„ κΊΌλ‚΄ ν¬μ κΈμ•΅μΌλ΅ λ‡ κ°λ¥Ό μ‚΄ μ μλ”μ§€ κ³„μ‚°ν•©λ‹λ‹¤.
    - (ννΈ:Β `κµ¬λ§¤ μλ‰ = ν¬μ κΈμ•΅ Γ· ν¬μ μ‹μ  κ°€κ²©`)
- **ν„μ¬ κ°€κ²© ν™•μΈν•κΈ°**

  λ‹¨μΌ ν„μ¬κ°€ μ΅°ν APIλ¥Ό ν™μ©ν•΄Β `trade_price`λ¥Ό κ°€μ Έμµλ‹λ‹¤.
```
dataΒ =Β response.json()[0]
returnΒ data['trade_price']
```

- **μμµλ¥  κ³„μ‚°ν•κΈ°**
    - ν„μ¬ κ°€μΉ =Β `λ³΄μ  μλ‰ Γ— ν„μ¬κ°€`
    - μ†μµ =Β `ν„μ¬ κ°€μΉ - ν¬μκΈμ•΅`
    - μμµλ¥  =Β `(μ†μµ Γ· ν¬μκΈμ•΅) Γ— 100`
- **κ²°κ³Ό μ¶λ ¥**
    - ν¬μ μΌμ, ν¬μ κΈμ•΅, ν¬μ μ‹μ  κ°€κ²©, κµ¬λ§¤ μλ‰, ν„μ¬ κ°€μΉ, μ†μµ, μμµλ¥ μ„ μ°¨λ΅€λ€λ΅ μ¶λ ¥ν•μ„Έμ”.
    - λ‚ μ§λ”Β `datetime`μ„ μ‚¬μ©ν•΄Β `"YYYY-MM-DD"`Β ν•μ‹μΌλ΅ λ°”κΏ”μ¤„ μ μμµλ‹λ‹¤.

    ```
    investment_date.strftime('%Y-%m-%d')
    ```